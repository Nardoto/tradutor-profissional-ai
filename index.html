<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tradutor Profissional - Powered by Google Gemini AI">
    <title>Tradutor Profissional - v2.1.0</title>
    <link rel="stylesheet" href="styles.css?v=2.8.6">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .translator-container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .translator-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .translator-header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .translator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .text-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .text-area-wrapper {
            position: relative;
            flex: 1;
        }

        .char-counter {
            position: absolute;
            bottom: 0.75rem;
            right: 0.75rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
            background: var(--bg-primary);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            pointer-events: none;
        }

        textarea {
            width: 100%;
            min-height: 600px;
            padding: 1.5rem;
            padding-bottom: 2.5rem;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            line-height: 1.7;
            resize: vertical;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        textarea[readonly] {
            background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%);
            border-color: #667eea;
        }

        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            margin-bottom: 2rem;
        }

        .stats-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .stats-box {
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            border: 2px solid var(--border-color);
        }

        .stats-box.translated {
            background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%);
            border-color: #667eea;
        }

        .stats-grid {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
        }

        .stat-item {
            flex: 1;
            text-align: center;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent-primary);
        }

        .stat-value.translated {
            color: #667eea;
        }

        .stat-diff {
            font-size: 0.85rem;
            margin-left: 0.5rem;
        }

        @media (max-width: 768px) {
            .translator-grid {
                grid-template-columns: 1fr;
            }

            .stats-panel {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Main Content -->
    <div class="translator-container">
        <div class="translator-header" style="position: relative;">
            <h1 style="margin-bottom: 0.5rem;">ğŸŒ Tradutor Profissional AI</h1>
            <p style="color: var(--text-secondary); font-size: 1rem; margin: 0.5rem 0;">TraduÃ§Ãµes precisas e profissionais com inteligÃªncia artificial</p>
            <p style="color: var(--text-secondary); font-size: 0.85rem; margin: 0.5rem 0 2rem 0;">Desenvolvido por <strong>Nardoto</strong> | Powered by Google Gemini AI</p>

            <button id="settingsButton" class="btn-primary" style="position: absolute; top: 0; right: 0; display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem;">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M16.2 12.5L15.4 13.9C15.1 14.5 15.2 15.2 15.7 15.7L16.3 16.3C16.5 16.5 16.5 16.8 16.3 17L17 17.7C17.2 17.9 17.5 17.9 17.7 17.7L18.3 17.1C18.8 16.6 19.5 16.5 20.1 16.8L21.5 17.6C21.8 17.8 22 18.1 22 18.5V19.5C22 19.8 21.8 20 21.5 20H18.5C18.2 20 18 19.8 18 19.5V18.5C18 18.1 17.8 17.8 17.5 17.6L16.1 16.8C15.5 16.5 14.8 16.6 14.3 17.1L13.7 17.7C13.5 17.9 13.2 17.9 13 17.7L12.3 17C12.1 16.8 12.1 16.5 12.3 16.3L12.9 15.7C13.4 15.2 13.5 14.5 13.2 13.9L12.4 12.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Configurar API Key
            </button>
        </div>

        <!-- Controls -->
        <div class="controls">
            <select id="sourceLangSelector" class="root-folder-dropdown" style="flex: 1; max-width: 250px;">
                <option value="auto">ğŸ”„ Detectar automaticamente</option>
                <option value="portuguese">ğŸ‡§ğŸ‡· PortuguÃªs</option>
                <option value="english">ğŸ‡ºğŸ‡¸ InglÃªs</option>
                <option value="spanish">ğŸ‡ªğŸ‡¸ Espanhol</option>
                <option value="french">ğŸ‡«ğŸ‡· FrancÃªs</option>
                <option value="italian">ğŸ‡®ğŸ‡¹ Italiano</option>
                <option value="german">ğŸ‡©ğŸ‡ª AlemÃ£o</option>
            </select>

            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>

            <select id="targetLangSelector" class="root-folder-dropdown" style="flex: 1; max-width: 250px;">
                <option value="" disabled selected>Idioma de destino...</option>
                <option value="english">ğŸ‡ºğŸ‡¸ InglÃªs</option>
                <option value="portuguese">ğŸ‡§ğŸ‡· PortuguÃªs</option>
                <option value="spanish">ğŸ‡ªğŸ‡¸ Espanhol</option>
                <option value="french">ğŸ‡«ğŸ‡· FrancÃªs</option>
                <option value="italian">ğŸ‡®ğŸ‡¹ Italiano</option>
                <option value="german">ğŸ‡©ğŸ‡ª AlemÃ£o</option>
            </select>

            <button id="translateButton" class="btn-primary" style="padding: 0 2.5rem;">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" style="margin-right: 0.5rem;">
                    <path d="M10 2C14.418 2 18 5.582 18 10C18 14.418 14.418 18 10 18C5.582 18 2 14.418 2 10C2 5.582 5.582 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M7 10L10 7L13 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M10 7V13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Traduzir
            </button>

            <button id="exportButton" class="btn-secondary" style="display: none;">
                ğŸ’¾ Exportar TXT
            </button>

            <button id="exportSrtButton" class="btn-secondary" style="display: none;">
                ğŸ¬ Exportar SRT
            </button>

            <button id="clearButton" class="btn-secondary">
                ğŸ—‘ï¸ Limpar
            </button>
        </div>

        <!-- SRT Settings Panel (oculto por padrÃ£o) -->
        <div id="srtSettingsPanel" style="display: none; background: var(--bg-secondary); padding: 1rem; border-radius: var(--radius-sm); margin-bottom: 2rem;">
            <h4 style="color: var(--accent-primary); margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M3 5C3 3.89543 3.89543 3 5 3H15C16.1046 3 17 3.89543 17 5V15C17 16.1046 16.1046 17 15 17H5C3.89543 17 3 16.1046 3 15V5Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M7 8H13M7 12H10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                ConfiguraÃ§Ãµes de Legendas (SRT)
            </h4>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);">
                        ğŸ“ Caracteres por legenda:
                    </label>
                    <input type="number" id="srtCharsPerBlock" value="84" min="40" max="200"
                           style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm);">
                    <small style="color: var(--text-secondary); font-size: 0.8rem;">Recomendado: 60-84 caracteres</small>
                </div>

                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);">
                        âš¡ Caracteres por segundo:
                    </label>
                    <input type="number" id="srtReadingRate" value="14" min="10" max="25" step="1"
                           style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm);">
                    <small style="color: var(--text-secondary); font-size: 0.8rem;">Recomendado: 14-17 c/s</small>
                </div>
            </div>

            <div style="margin-top: 1rem; padding: 0.75rem; background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%); border-radius: var(--radius-sm); border-left: 3px solid var(--accent-primary);">
                <p style="margin: 0; font-size: 0.85rem; color: var(--text-secondary);">
                    <strong>ğŸ’¡ Dica:</strong> A legenda serÃ¡ automaticamente dividida em blocos de acordo com os parÃ¢metros acima, respeitando quebras de frase.
                </p>
            </div>
        </div>

        <!-- Text Areas -->
        <div class="translator-grid">
            <!-- Original Text -->
            <div class="text-panel">
                <h3 style="color: var(--accent-primary); display: flex; align-items: center; gap: 0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M4 4h12v12H4V4z" stroke="currentColor" stroke-width="2"/>
                        <path d="M7 7h6M7 10h6M7 13h4" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span id="originalLanguageLabel">Texto Original</span>
                </h3>
                <div class="text-area-wrapper">
                    <textarea id="originalText" placeholder="Cole aqui o texto que deseja traduzir..."></textarea>
                    <div class="char-counter" id="originalCounter">0 caracteres</div>
                </div>
                <button id="copyOriginalButton" class="btn-secondary" style="width: 100%;">
                    ğŸ“‹ Copiar Original
                </button>
            </div>

            <!-- Translated Text -->
            <div class="text-panel">
                <h3 style="color: #667eea; display: flex; align-items: center; gap: 0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 2C14.418 2 18 5.582 18 10C18 14.418 14.418 18 10 18C5.582 18 2 14.418 2 10C2 5.582 5.582 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span id="translatedLanguageLabel">TraduÃ§Ã£o</span>
                </h3>
                <div class="text-area-wrapper">
                    <textarea id="translatedText" readonly placeholder="A traduÃ§Ã£o aparecerÃ¡ aqui..."></textarea>
                    <div class="char-counter" id="translatedCounter">0 caracteres</div>
                </div>
                <button id="copyTranslatedButton" class="btn-primary" style="width: 100%;">
                    ğŸ“‹ Copiar TraduÃ§Ã£o
                </button>
            </div>
        </div>

        <!-- Statistics -->
        <div class="stats-panel" id="statsPanel" style="display: none;">
            <div class="stats-box">
                <h4 style="color: var(--accent-primary); margin: 0 0 1rem 0;">ğŸ“ Texto Original</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Palavras</div>
                        <div class="stat-value" id="originalWords">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Caracteres</div>
                        <div class="stat-value" id="originalChars">0</div>
                    </div>
                </div>
            </div>

            <div class="stats-box translated">
                <h4 style="color: #667eea; margin: 0 0 1rem 0;">ğŸŒ TraduÃ§Ã£o</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Palavras</div>
                        <div class="stat-value translated" id="translatedWords">
                            0
                            <span class="stat-diff" id="wordsDiff"></span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Caracteres</div>
                        <div class="stat-value translated" id="translatedChars">
                            0
                            <span class="stat-diff" id="charsDiff"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2>âš™ï¸ ConfiguraÃ§Ãµes</h2>
                <button class="modal-close" onclick="document.getElementById('settingsModal').style.display='none'">&times;</button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">
                        ğŸ”‘ API Key do Google Gemini
                    </label>
                    <input
                        type="password"
                        id="apiKeyInput"
                        placeholder="Cole sua API Key aqui..."
                        style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm); font-family: 'Courier New', monospace;"
                    >
                    <div style="margin-top: 1rem; padding: 1rem; background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%); border-left: 3px solid var(--accent-primary); border-radius: var(--radius-sm);">
                        <h4 style="margin: 0 0 0.75rem 0; color: var(--accent-primary); font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem;">
                            ğŸ“š Como obter sua API Key GRATUITA:
                        </h4>

                        <div style="background: #fff; padding: 1rem; border-radius: var(--radius-sm); margin-bottom: 1rem; border: 1px solid var(--border-color);">
                            <ol style="margin: 0; padding-left: 1.5rem; font-size: 0.85rem; color: var(--text-primary); line-height: 2;">
                                <li style="margin-bottom: 0.5rem;">
                                    <strong>Acesse o <a href="https://makersuite.google.com/app/apikey" target="_blank" style="color: var(--accent-primary); text-decoration: underline;">Google AI Studio</a></strong>
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    FaÃ§a login com sua <strong>conta Google</strong>
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    Aceite os termos <strong>"Como um desenvolvedor"</strong> e clique em <strong>"Continuar"</strong>
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    No canto superior direito, clique em <strong>"Criar chave de API"</strong> (botÃ£o verde)
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    DÃª um nome para sua chave (ex: <code style="background: var(--bg-hover); padding: 0.2rem 0.4rem; border-radius: 3px; font-family: 'Courier New', monospace;">"tradutor"</code>)
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    Escolha <strong>"Default Gemini Project"</strong>
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    Clique no <strong>Ã­cone de copiar</strong> ao lado da chave gerada
                                </li>
                                <li>
                                    <strong>Cole a chave</strong> no campo acima e clique em "Salvar"
                                </li>
                            </ol>
                        </div>

                        <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 0.75rem 1rem; border-radius: var(--radius-sm); margin-bottom: 0.75rem;">
                            <p style="margin: 0; color: #155724; font-size: 0.85rem; font-weight: 500;">
                                âœ… <strong>100% GRATUITO!</strong> Sem necessidade de cartÃ£o de crÃ©dito.
                            </p>
                        </div>

                        <div style="background: #fff3cd; border: 1px solid #ffeeba; padding: 0.75rem 1rem; border-radius: var(--radius-sm);">
                            <p style="margin: 0; color: #856404; font-size: 0.8rem;">
                                <strong>ğŸ’¡ Dica:</strong> Essa chave permite traduzir arquivos inteiros de uma sÃ³ vez usando o poder da IA Google Gemini!
                            </p>
                        </div>
                    </div>
                </div>

                <div style="display: flex; gap: 0.75rem;">
                    <button id="saveApiKeyButton" class="btn-primary" style="flex: 1;">
                        ğŸ’¾ Salvar
                    </button>
                    <button id="testApiKeyButton" class="btn-secondary" style="flex: 1;">
                        ğŸ§ª Testar ConexÃ£o
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Scripts -->
    <script src="translator.js?v=2.1.0"></script>
</body>
</html>
