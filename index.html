<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tradutor Profissional - Powered by Google Gemini AI">
    <title>Tradutor Profissional AI</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="stylesheet" href="styles.css?v=5.1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        .translator-container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .translator-header {
            text-align: center;
            margin-bottom: 1rem;
        }

        .translator-header h1 {
            font-family: 'DM Serif Display', serif;
            font-size: 1.5rem;
            background: linear-gradient(135deg, #E85A2A 0%, #FF6B35 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.25rem;
        }

        .translator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .text-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .text-area-wrapper {
            position: relative;
            flex: 1;
        }

        .char-counter {
            position: absolute;
            bottom: 0.75rem;
            right: 0.75rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
            background: var(--bg-primary);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            pointer-events: none;
        }

        textarea {
            width: 100%;
            min-height: 600px;
            padding: 1.5rem;
            padding-bottom: 2.5rem;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            line-height: 1.7;
            resize: vertical;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        textarea[readonly] {
            background: linear-gradient(135deg, rgba(232, 90, 42, 0.1) 0%, rgba(255, 107, 53, 0.05) 100%);
            border-color: #E85A2A;
        }

        .controls {
            display: flex;
            gap: 0.75rem;
            align-items: center;
            padding: 1.25rem 1.5rem;
            background: linear-gradient(180deg, rgba(26, 26, 26, 0.95) 0%, rgba(20, 20, 20, 0.98) 100%);
            border-radius: 14px;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.06);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .stats-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .stats-box {
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            border: 2px solid var(--border-color);
        }

        .stats-box.translated {
            background: linear-gradient(135deg, rgba(232, 90, 42, 0.1) 0%, rgba(255, 107, 53, 0.05) 100%);
            border-color: #E85A2A;
        }

        .stats-grid {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
        }

        .stat-item {
            flex: 1;
            text-align: center;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent-primary);
        }

        .stat-value.translated {
            color: #E85A2A;
        }

        .stat-diff {
            font-size: 0.85rem;
            margin-left: 0.5rem;
        }

        @media (max-width: 768px) {
            .translator-grid {
                grid-template-columns: 1fr;
            }

            .stats-panel {
                grid-template-columns: 1fr;
            }
        }

        /* Dropdown animation */
        details[open] summary span:first-child {
            transform: rotate(90deg);
        }

        details summary::-webkit-details-marker {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Main Content -->
    <div class="translator-container">
        <div class="translator-header">
            <!-- Header compacto com t√≠tulo e perfil -->
            <div style="display: flex; justify-content: space-between; align-items: center; height: 40px; margin-bottom: 0.5rem;">
                <div style="flex: 1;"></div>

                <!-- T√≠tulo centralizado com Logo -->
                <div style="flex: 2; text-align: center; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                    <img src="favicon.png" alt="Nardoto" style="width: 28px; height: 28px; border-radius: 6px;">
                    <h1 style="margin: 0; font-size: 1.3rem; font-family: 'DM Serif Display', serif;">Tradutor Profissional AI</h1>
                </div>

                <!-- Perfil do Usu√°rio compacto -->
                <div style="flex: 1; display: flex; justify-content: flex-end;">
                    <div id="userProfileButton" style="cursor: pointer; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.15); border-radius: 25px; padding: 0.35rem 0.75rem; display: none; gap: 0.5rem; transition: all 0.3s; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">
                        <img id="userAvatar" src="" alt="Avatar" style="width: 24px; height: 24px; border-radius: 50%; object-fit: cover;">
                        <div style="text-align: left;">
                            <div id="userName" style="font-weight: 600; font-size: 0.75rem; color: #fff; max-width: 100px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"></div>
                            <div id="userPlan" style="font-size: 0.65rem; color: #E85A2A; font-weight: 600;"></div>
                        </div>
                        <svg width="12" height="12" viewBox="0 0 16 16" fill="none" stroke="#9CA3AF" stroke-width="2">
                            <path d="M4 6l4 4 4-4"/>
                        </svg>
                    </div>
                </div>
            </div>

            <p style="color: var(--text-secondary); font-size: 0.75rem; margin: 0 0 0.75rem 0; text-align: center;">Desenvolvido por <strong style="color: #E85A2A;">Nardoto</strong> | Powered by Google Gemini AI</p>
        </div>

        <!-- Menu Dropdown do Usu√°rio -->
        <div id="userDropdownMenu" style="display: none; position: absolute; top: 5rem; right: 2rem; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: var(--radius-sm); box-shadow: 0 8px 24px rgba(0,0,0,0.4); min-width: 260px; z-index: 1000;">
            <div style="padding: 1rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                <div style="font-weight: 600; color: #fff; margin-bottom: 0.5rem; font-size: 0.9rem;">Uso de Hoje</div>
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                    <div style="flex: 1; height: 6px; background: #252525; border-radius: 10px; overflow: hidden;">
                        <div id="usageBar" style="height: 100%; background: linear-gradient(135deg, #E85A2A 0%, #FF6B35 100%); width: 0%; transition: width 0.3s;"></div>
                    </div>
                </div>
                <div style="font-size: 0.8rem; color: #9CA3AF;">
                    <span id="translationsUsed" style="font-weight: 600; color: #E85A2A;">0</span> / 50 tradu√ß√µes
                </div>
            </div>

            <div style="padding: 0.75rem;">
                <button id="freeTrialButton" class="btn-success" style="width: 100%; margin-bottom: 0.5rem; justify-content: center; display: none; background: linear-gradient(135deg, #10b981 0%, #059669 100%); font-size: 0.85rem; padding: 0.6rem;">
                    üéÅ Testar Gr√°tis 3 Dias
                </button>
                <button id="upgradeButton" class="btn-primary" style="width: 100%; margin-bottom: 0.5rem; justify-content: center; background: linear-gradient(135deg, #E85A2A 0%, #FF6B35 100%); font-size: 0.85rem; padding: 0.6rem;">
                    ‚≠ê Upgrade para PRO
                </button>
                <button id="logoutButton" class="btn-secondary" style="width: 100%; justify-content: center; font-size: 0.85rem; padding: 0.6rem;">
                    üö™ Sair
                </button>
            </div>
        </div>

        <!-- Tutorial Dropdown (Oculto por padr√£o) -->

        <!-- Controls -->
        <div class="controls">
            <select id="sourceLangSelector" class="root-folder-dropdown" style="flex: 1; max-width: 200px;">
                <option value="auto">Auto-detectar</option>
                <option value="portuguese">Portugu√™s</option>
                <option value="english">Ingl√™s</option>
                <option value="spanish">Espanhol</option>
                <option value="french">Franc√™s</option>
                <option value="italian">Italiano</option>
                <option value="german">Alem√£o</option>
            </select>

            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#E85A2A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="opacity: 0.7;">
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12 5 19 12 12 19"></polyline>
            </svg>

            <select id="targetLangSelector" class="root-folder-dropdown" style="flex: 1; max-width: 200px;">
                <option value="" disabled selected>Destino...</option>
                <option value="english">Ingl√™s</option>
                <option value="portuguese">Portugu√™s</option>
                <option value="spanish">Espanhol</option>
                <option value="french">Franc√™s</option>
                <option value="italian">Italiano</option>
                <option value="german">Alem√£o</option>
            </select>

            <select id="translationTypeSelector" class="root-folder-dropdown" style="flex: 1; max-width: 200px;">
                <option value="literal">Literal</option>
                <option value="cultural">Cultural</option>
            </select>

            <!-- Bot√£o TRADUZIR - Destaque principal estilo Nardoto -->
            <button id="translateButton" class="btn-translate-main">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 2C14.418 2 18 5.582 18 10C18 14.418 14.418 18 10 18C5.582 18 2 14.418 2 10C2 5.582 5.582 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M7 10L10 7L13 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M10 7V13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Traduzir
            </button>

            <button id="exportButton" class="btn-ghost with-text" style="display: none;" title="Exportar tradu√ß√£o como arquivo de texto (.txt)">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
                TXT
            </button>

            <button id="exportSrtButton" class="btn-ghost with-text" style="display: none;" title="Exportar como legenda com timestamps para v√≠deos (.srt)">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"/>
                    <line x1="7" y1="2" x2="7" y2="22"/>
                    <line x1="17" y1="2" x2="17" y2="22"/>
                    <line x1="2" y1="12" x2="22" y2="12"/>
                    <line x1="2" y1="7" x2="7" y2="7"/>
                    <line x1="2" y1="17" x2="7" y2="17"/>
                    <line x1="17" y1="17" x2="22" y2="17"/>
                    <line x1="17" y1="7" x2="22" y2="7"/>
                </svg>
                SRT
            </button>

            <!-- Bot√£o Limpar - Discreto -->
            <button id="clearButton" class="btn-ghost" title="Limpar campos">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="3 6 5 6 21 6"/>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                </svg>
            </button>

            <!-- Bot√£o Configurar API - Discreto -->
            <button id="settingsButton" class="btn-ghost with-text" title="Configurar API Key">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/>
                </svg>
                API
            </button>

            <!-- Bot√£o Help - Abre modal de ajuda -->
            <button id="helpButton" class="btn-ghost" title="Como usar">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
            </button>
        </div>

        <!-- Custom Instructions Panel -->
        <div id="customInstructionsPanel" style="display: none; background: var(--bg-secondary); padding: 1rem 1.5rem; border-radius: var(--radius-sm); margin-bottom: 1rem; border: 1px solid rgba(232, 90, 42, 0.25);">
            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#E85A2A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="12" cy="12" r="3"/>
                </svg>
                <h4 style="color: #E85A2A; margin: 0; font-size: 0.95rem; font-weight: 600;">Instru√ß√µes de Localiza√ß√£o Cultural</h4>
                <button id="toggleInstructionsBtn" class="btn-ghost with-text" style="margin-left: auto; padding: 0.4rem 0.8rem; font-size: 0.75rem; height: 32px; min-width: auto;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"/>
                    </svg>
                    Expandir
                </button>
            </div>
            <div id="instructionsContent" style="display: none;">
                <p style="color: var(--text-secondary); font-size: 0.85rem; margin: 0 0 0.75rem 0;">
                    Descreva adapta√ß√µes espec√≠ficas que deseja (ex: "PIX ‚Üí Venmo", "g√≠rias BR ‚Üí g√≠rias americanas", "refer√™ncias culturais locais")
                </p>
                <textarea
                    id="customInstructions"
                    placeholder="Exemplos:&#10;- Substituir PIX por Venmo ou PayPal&#10;- Adaptar g√≠rias brasileiras para equivalentes americanos&#10;- Converter medidas (km ‚Üí milhas, kg ‚Üí libras)&#10;- Substituir refer√™ncias a programas de TV brasileiros por americanos"
                    style="width: 100%; min-height: 100px; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); font-family: inherit; font-size: 0.9rem; resize: vertical; background: var(--bg-primary); color: var(--text-primary);"
                ></textarea>
                <div style="display: flex; gap: 0.5rem; margin-top: 0.75rem; flex-wrap: wrap;">
                    <button class="btn-secondary quick-instruction" data-instruction="Substituir PIX por Venmo/PayPal" style="padding: 0.4rem 0.8rem; font-size: 0.75rem;">PIX ‚Üí Venmo</button>
                    <button class="btn-secondary quick-instruction" data-instruction="Adaptar g√≠rias e express√µes coloquiais para equivalentes naturais no idioma de destino" style="padding: 0.4rem 0.8rem; font-size: 0.75rem;">G√≠rias</button>
                    <button class="btn-secondary quick-instruction" data-instruction="Converter unidades de medida (km‚Üímilhas, kg‚Üílibras, ¬∞C‚Üí¬∞F)" style="padding: 0.4rem 0.8rem; font-size: 0.75rem;">Medidas</button>
                    <button class="btn-secondary quick-instruction" data-instruction="Adaptar refer√™ncias culturais (programas de TV, celebridades, marcas) para equivalentes locais" style="padding: 0.4rem 0.8rem; font-size: 0.75rem;">Cultura</button>
                </div>
            </div>
        </div>

        <!-- SRT Settings Panel (oculto por padr√£o) -->
        <div id="srtSettingsPanel" style="display: none; background: var(--bg-secondary); padding: 1rem; border-radius: var(--radius-sm); margin-bottom: 2rem;">
            <h4 style="color: var(--accent-primary); margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M3 5C3 3.89543 3.89543 3 5 3H15C16.1046 3 17 3.89543 17 5V15C17 16.1046 16.1046 17 15 17H5C3.89543 17 3 16.1046 3 15V5Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M7 8H13M7 12H10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Configura√ß√µes de Legendas (SRT)
            </h4>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);">
                        üìè Caracteres por legenda:
                    </label>
                    <input type="number" id="srtCharsPerBlock" value="84" min="40" max="200"
                           style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm);">
                    <small style="color: var(--text-secondary); font-size: 0.8rem;">Recomendado: 60-84 caracteres</small>
                </div>

                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);">
                        ‚ö° Caracteres por segundo:
                    </label>
                    <input type="number" id="srtReadingRate" value="14" min="10" max="25" step="1"
                           style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm);">
                    <small style="color: var(--text-secondary); font-size: 0.8rem;">Recomendado: 14-17 c/s</small>
                </div>
            </div>

            <div style="margin-top: 1.5rem; display: grid; gap: 0.75rem;">
                <div style="padding: 0.75rem; background: linear-gradient(135deg, rgba(232, 90, 42, 0.1) 0%, rgba(255, 107, 53, 0.05) 100%); border-radius: var(--radius-sm); border-left: 3px solid #E85A2A;">
                    <p style="margin: 0; font-size: 0.85rem; color: var(--text-secondary);">
                        <strong>üí° Como funciona:</strong> A tradu√ß√£o ser√° automaticamente dividida em blocos de legenda com timestamps calculados pela velocidade de leitura. Perfeito para criar legendas em v√≠deos do YouTube, Vimeo ou qualquer player que suporte SRT!
                    </p>
                </div>

                <div style="padding: 0.75rem; background: #d4edda; border-radius: var(--radius-sm); border-left: 3px solid #28a745;">
                    <p style="margin: 0; font-size: 0.85rem; color: #155724;">
                        <strong>üéØ Fluxo recomendado:</strong> Escreva seu roteiro em portugu√™s ‚Üí Traduza para o idioma desejado ‚Üí Exporte em SRT ‚Üí Importe a legenda no seu editor de v√≠deo ou YouTube!
                    </p>
                </div>

                <div style="padding: 0.75rem; background: #fff3cd; border-radius: var(--radius-sm); border-left: 3px solid #ffc107;">
                    <p style="margin: 0; font-size: 0.85rem; color: #856404;">
                        <strong>‚öôÔ∏è Personaliza√ß√£o:</strong> Ajuste os par√¢metros acima para controlar o tamanho das legendas e velocidade de exibi√ß√£o. Valores maiores = legendas mais longas, valores menores = legendas mais curtas e r√°pidas.
                    </p>
                </div>
            </div>
        </div>

        <!-- Text Areas -->
        <div class="translator-grid">
            <!-- Original Text -->
            <div class="text-panel">
                <h3 style="color: var(--accent-primary); display: flex; align-items: center; gap: 0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M4 4h12v12H4V4z" stroke="currentColor" stroke-width="2"/>
                        <path d="M7 7h6M7 10h6M7 13h4" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span id="originalLanguageLabel">Texto Original</span>
                </h3>
                <div class="text-area-wrapper">
                    <textarea id="originalText" placeholder="Cole aqui o texto que deseja traduzir..."></textarea>
                    <div class="char-counter" id="originalCounter">0 caracteres</div>
                </div>
                <button id="copyOriginalButton" class="btn-secondary" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                    </svg>
                    Copiar Original
                </button>
            </div>

            <!-- Translated Text -->
            <div class="text-panel">
                <h3 style="color: #E85A2A; display: flex; align-items: center; gap: 0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 2C14.418 2 18 5.582 18 10C18 14.418 14.418 18 10 18C5.582 18 2 14.418 2 10C2 5.582 5.582 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span id="translatedLanguageLabel">Tradu√ß√£o</span>
                </h3>
                <div class="text-area-wrapper">
                    <textarea id="translatedText" readonly placeholder="A tradu√ß√£o aparecer√° aqui..."></textarea>
                    <div class="char-counter" id="translatedCounter">0 caracteres</div>
                </div>
                <button id="copyTranslatedButton" class="btn-primary" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                    </svg>
                    Copiar Tradu√ß√£o
                </button>
            </div>
        </div>

        <!-- Statistics -->
        <div class="stats-panel" id="statsPanel" style="display: none;">
            <div class="stats-box">
                <h4 style="color: var(--accent-primary); margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                        <polyline points="10 9 9 9 8 9"/>
                    </svg>
                    Texto Original
                </h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Palavras</div>
                        <div class="stat-value" id="originalWords">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Caracteres</div>
                        <div class="stat-value" id="originalChars">0</div>
                    </div>
                </div>
            </div>

            <div class="stats-box translated">
                <h4 style="color: #E85A2A; margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="2" y1="12" x2="22" y2="12"/>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                    </svg>
                    Tradu√ß√£o
                </h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Palavras</div>
                        <div class="stat-value translated" id="translatedWords">
                            0
                            <span class="stat-diff" id="wordsDiff"></span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Caracteres</div>
                        <div class="stat-value translated" id="translatedChars">
                            0
                            <span class="stat-diff" id="charsDiff"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 600px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1);">
            <div class="modal-header" style="background: linear-gradient(135deg, #E85A2A 0%, #FF6B35 100%);">
                <h2 style="color: white; font-family: 'DM Serif Display', serif; display: flex; align-items: center; gap: 0.75rem;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                    </svg>
                    Configura√ß√µes
                </h2>
                <button class="modal-close" onclick="document.getElementById('settingsModal').style.display='none'" style="color: white;">&times;</button>
            </div>
            <div class="modal-body" style="background: #1a1a1a;">
                <!-- Configura√ß√£o de API Key -->
                <div style="margin-bottom: 1.5rem;">
                    <h3 style="color: #E85A2A; margin: 0 0 1rem 0; font-size: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/>
                        </svg>
                        API Key do Google Gemini
                    </h3>

                    <div style="margin-bottom: 1rem;">
                        <input
                            type="password"
                            id="newApiKeyInput"
                            placeholder="Cole sua API Key aqui..."
                            style="width: 100%; padding: 0.75rem; border: 2px solid #333; border-radius: 6px; font-family: 'Courier New', monospace; font-size: 0.95rem; background: #252525; color: #fff;"
                        >
                    </div>

                    <div style="display: flex; gap: 0.75rem; margin-bottom: 1rem;">
                        <button id="saveApiKeyButton" class="btn-primary" style="flex: 1; background: linear-gradient(135deg, #E85A2A 0%, #FF6B35 100%); border: none; color: white; padding: 0.75rem; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem; font-weight: 600;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                                <polyline points="17 21 17 13 7 13 7 21"/>
                                <polyline points="7 3 7 8 15 8"/>
                            </svg>
                            Salvar
                        </button>
                        <button id="testApiKeyButton" class="btn-secondary" style="flex: 1; background: #252525; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 0.75rem; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem; font-weight: 600;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
                            </svg>
                            Testar
                        </button>
                    </div>

                    <!-- Lista de API Keys cadastradas -->
                    <div id="apiKeysList" style="margin-bottom: 1rem;"></div>

                    <details style="margin-top: 1rem; padding: 1rem; background: linear-gradient(135deg, rgba(232, 90, 42, 0.15) 0%, rgba(255, 107, 53, 0.05) 100%); border-left: 3px solid #E85A2A; border-radius: 6px; cursor: pointer;">
                        <summary style="list-style: none; font-weight: 600; color: #E85A2A; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem; user-select: none;">
                            <span style="transition: transform 0.2s;">‚ñ∂</span>
                            Como obter sua API Key GRATUITA
                        </summary>

                        <!-- PARTE 1: Criar a chave -->
                        <div style="background: #252525; padding: 1rem; border-radius: 6px; margin: 1rem 0 0.75rem 0; border: 1px solid #333;">
                            <p style="color: #E85A2A; font-weight: 600; margin: 0 0 0.75rem 0; font-size: 0.9rem;">Parte 1: Criar a API Key</p>
                            <ol style="margin: 0; padding-left: 1.5rem; font-size: 0.85rem; color: #a0a0a0; line-height: 1.9;">
                                <li style="margin-bottom: 0.4rem;">
                                    Acesse o <a href="https://aistudio.google.com/app/apikey" target="_blank" style="color: #E85A2A; text-decoration: underline; font-weight: 600;">Google AI Studio</a>
                                </li>
                                <li style="margin-bottom: 0.4rem;">
                                    Fa√ßa login com sua <strong style="color: #fff;">conta Google</strong>
                                </li>
                                <li style="margin-bottom: 0.4rem;">
                                    Aceite os termos e clique em <strong style="color: #fff;">"Continuar"</strong>
                                </li>
                                <li style="margin-bottom: 0.4rem;">
                                    Clique em <strong style="color: #fff;">"Criar chave de API"</strong>
                                </li>
                                <li>
                                    D√™ um nome (ex: "tradutor") e clique em <strong style="color: #fff;">"Criar chave"</strong>
                                </li>
                            </ol>
                        </div>

                        <!-- PARTE 2: Vincular faturamento -->
                        <div style="background: #ef444422; padding: 1rem; border-radius: 6px; margin-bottom: 0.75rem; border: 1px solid #ef4444;">
                            <p style="color: #ef4444; font-weight: 600; margin: 0 0 0.75rem 0; font-size: 0.9rem;">‚ö†Ô∏è Parte 2: Vincular Faturamento (obrigat√≥rio)</p>
                            <p style="color: #fca5a5; font-size: 0.8rem; margin: 0 0 0.75rem 0;">
                                O Google agora exige uma conta de faturamento vinculada, mesmo para uso gratuito. <strong style="color: #fff;">N√£o ser√° cobrado nada</strong> - apenas cadastre um cart√£o para verifica√ß√£o.
                            </p>
                            <ol style="margin: 0; padding-left: 1.5rem; font-size: 0.85rem; color: #a0a0a0; line-height: 1.9;">
                                <li style="margin-bottom: 0.4rem;">
                                    Na p√°gina das chaves, clique em <strong style="color: #fff;">"Configurar faturamento"</strong>
                                </li>
                                <li style="margin-bottom: 0.4rem;">
                                    Clique em <strong style="color: #fff;">"Vincular conta de faturamento"</strong>
                                </li>
                                <li style="margin-bottom: 0.4rem;">
                                    Clique em <strong style="color: #fff;">"Gerenciar contas de faturamento"</strong>
                                </li>
                                <li style="margin-bottom: 0.4rem;">
                                    Clique em <strong style="color: #fff;">"+ Criar conta"</strong>
                                </li>
                                <li style="margin-bottom: 0.4rem;">
                                    Preencha nome e pa√≠s, clique em <strong style="color: #fff;">"Continuar"</strong>
                                </li>
                                <li>
                                    Cadastre um cart√£o (pode ser <strong style="color: #fff;">pr√©-pago com R$1</strong>) e clique em <strong style="color: #fff;">"Enviar e ativar"</strong>
                                </li>
                            </ol>
                        </div>

                        <!-- PARTE 3: Copiar e usar -->
                        <div style="background: #252525; padding: 1rem; border-radius: 6px; margin-bottom: 0.75rem; border: 1px solid #333;">
                            <p style="color: #10b981; font-weight: 600; margin: 0 0 0.75rem 0; font-size: 0.9rem;">Parte 3: Usar a Chave</p>
                            <ol style="margin: 0; padding-left: 1.5rem; font-size: 0.85rem; color: #a0a0a0; line-height: 1.9;">
                                <li style="margin-bottom: 0.4rem;">
                                    Volte para <a href="https://aistudio.google.com/app/apikey" target="_blank" style="color: #E85A2A; text-decoration: underline;">Chaves de API</a>
                                </li>
                                <li style="margin-bottom: 0.4rem;">
                                    Clique no <strong style="color: #fff;">√≠cone de copiar</strong> ao lado da sua chave
                                </li>
                                <li>
                                    <strong style="color: #fff;">Cole aqui</strong> no campo acima e clique em "Salvar"
                                </li>
                            </ol>
                        </div>

                        <div style="background: #10b98122; border: 1px solid #10b981; padding: 0.75rem 1rem; border-radius: 6px; margin-bottom: 0.75rem;">
                            <p style="margin: 0; color: #10b981; font-size: 0.85rem; font-weight: 500;">
                                ‚úì <strong>100% GRATUITO!</strong> O cart√£o √© apenas para verifica√ß√£o. A API Gemini tem tier gratuito generoso!
                            </p>
                        </div>

                        <div style="background: #f59e0b22; border: 1px solid #f59e0b; padding: 0.75rem 1rem; border-radius: 6px;">
                            <p style="margin: 0; color: #f59e0b; font-size: 0.8rem;">
                                <strong>Dica:</strong> Use um cart√£o pr√©-pago com limite baixo (R$1) para maior seguran√ßa. Voc√™ pode adicionar v√°rias API Keys - quando uma atingir o limite, o sistema usa a pr√≥xima!
                            </p>
                        </div>
                    </details>
                </div>

            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 550px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1);">
            <div class="modal-header" style="background: linear-gradient(135deg, #E85A2A 0%, #FF6B35 100%);">
                <h2 style="color: white; font-family: 'DM Serif Display', serif; display: flex; align-items: center; gap: 0.75rem;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                        <line x1="12" y1="17" x2="12.01" y2="17"/>
                    </svg>
                    Como Usar
                </h2>
                <button class="modal-close" onclick="document.getElementById('helpModal').style.display='none'" style="color: white;">&times;</button>
            </div>
            <div class="modal-body" style="background: #1a1a1a; color: #fff;">
                <div style="margin-bottom: 1.5rem;">
                    <h3 style="color: #E85A2A; margin: 0 0 0.75rem 0; font-size: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                        </svg>
                        Passo a Passo
                    </h3>
                    <ol style="margin: 0; padding-left: 1.5rem; color: #9CA3AF; font-size: 0.9rem; line-height: 1.8;">
                        <li><strong style="color: #fff;">Configure sua API Key</strong> - Clique em API e adicione sua chave gratuita do Google Gemini</li>
                        <li><strong style="color: #fff;">Selecione os idiomas</strong> - Origem (ou auto-detectar) e destino</li>
                        <li><strong style="color: #fff;">Escolha o tipo de tradu√ß√£o</strong> - Literal ou Localiza√ß√£o Cultural</li>
                        <li><strong style="color: #fff;">Cole seu texto</strong> e clique no bot√£o <strong style="color: #E85A2A;">Traduzir</strong></li>
                        <li><strong style="color: #fff;">Exporte</strong> como TXT ou SRT (legendas)</li>
                    </ol>
                </div>

                <div style="margin-bottom: 1.5rem; padding: 1rem; background: linear-gradient(135deg, rgba(232, 90, 42, 0.15) 0%, rgba(255, 107, 53, 0.05) 100%); border-radius: 10px; border-left: 3px solid #E85A2A;">
                    <h4 style="color: #E85A2A; margin: 0 0 0.5rem 0; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="2" y1="12" x2="22" y2="12"/>
                            <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                        </svg>
                        Localiza√ß√£o Cultural
                    </h4>
                    <p style="margin: 0; color: #9CA3AF; font-size: 0.85rem; line-height: 1.6;">
                        Adapta g√≠rias, refer√™ncias culturais, sistemas de pagamento (PIX ‚Üí Venmo), medidas e express√µes para o p√∫blico-alvo. Ideal para marketing e conte√∫do!
                    </p>
                </div>

                <div style="padding: 1rem; background: #252525; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);">
                    <h4 style="color: #10b981; margin: 0 0 0.5rem 0; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="16" x2="12" y2="12"/>
                            <line x1="12" y1="8" x2="12.01" y2="8"/>
                        </svg>
                        Dicas
                    </h4>
                    <ul style="margin: 0; padding-left: 1.25rem; color: #9CA3AF; font-size: 0.85rem; line-height: 1.7;">
                        <li>Adicione m√∫ltiplas API Keys para evitar limites</li>
                        <li>Use SRT para criar legendas de v√≠deos</li>
                        <li>Textos grandes s√£o divididos automaticamente</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(180deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%); z-index: 9999; display: flex; align-items: center; justify-content: center;">
        <div style="background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: var(--radius-md); padding: 2.5rem; max-width: 420px; width: 90%; box-shadow: 0 20px 60px rgba(0,0,0,0.5);">
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <img src="favicon.png" alt="Nardoto" style="width: 64px; height: 64px; border-radius: 12px; margin-bottom: 1rem; box-shadow: 0 8px 32px rgba(232, 90, 42, 0.3);">
                <h1 style="font-size: 1.75rem; font-family: 'DM Serif Display', serif; background: linear-gradient(135deg, #E85A2A 0%, #FF6B35 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 0.5rem;">
                    Tradutor Profissional AI
                </h1>
                <p style="color: #9CA3AF; font-size: 0.9rem;">
                    Fa√ßa login para come√ßar a traduzir
                </p>
            </div>

            <div style="background: linear-gradient(135deg, rgba(232, 90, 42, 0.15) 0%, rgba(255, 107, 53, 0.05) 100%); padding: 1.25rem; border-radius: var(--radius-sm); margin-bottom: 1.5rem; border: 1px solid rgba(232, 90, 42, 0.3);">
                <h3 style="color: #E85A2A; margin: 0 0 0.75rem 0; font-size: 0.95rem; text-align: center;">
                    ‚ú® Plano GRATUITO Inclui:
                </h3>
                <ul style="margin: 0; padding-left: 1.25rem; color: #9CA3AF; font-size: 0.85rem; line-height: 1.7;">
                    <li><strong style="color: #fff;">50 tradu√ß√µes por dia</strong> com IA Google Gemini</li>
                    <li><strong style="color: #fff;">Exportar TXT e SRT</strong> (legendas para v√≠deos)</li>
                    <li><strong style="color: #fff;">Auto-detectar idiomas</strong> automaticamente</li>
                    <li><strong style="color: #fff;">Tradu√ß√µes profissionais</strong> ilimitadas em caracteres</li>
                </ul>
            </div>

            <button id="googleLoginButton" class="btn-primary" style="width: 100%; padding: 0.9rem; font-size: 0.95rem; display: flex; align-items: center; justify-content: center; gap: 0.75rem; margin-bottom: 1rem; background: linear-gradient(135deg, #E85A2A 0%, #FF6B35 100%); border: none; color: white; border-radius: 12px; cursor: pointer; box-shadow: 0 8px 32px rgba(232, 90, 42, 0.3);">
                <svg width="20" height="20" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Entrar com Google
            </button>

            <p style="text-align: center; color: #6B7280; font-size: 0.8rem; margin: 1rem 0 0 0;">
                Ao fazer login, voc√™ concorda com nossos termos de uso
            </p>
        </div>
    </div>

    <!-- Scripts Firebase -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, setPersistence, browserLocalPersistence, signInWithPopup, signInWithRedirect, getRedirectResult, GoogleAuthProvider, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, doc, getDoc, setDoc, updateDoc, increment } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        import { getFunctions, httpsCallable } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-functions.js';

        // Configura√ß√£o do Firebase - tradutor-profissional-ai
        const firebaseConfig = {
            apiKey: "AIzaSyBQPGu8l-JQqjHRubcAcYeUK7aIgH7vPIE",
            authDomain: "tradutor-profissional-ai.firebaseapp.com",
            projectId: "tradutor-profissional-ai",
            storageBucket: "tradutor-profissional-ai.firebasestorage.app",
            messagingSenderId: "943297790089",
            appId: "1:943297790089:web:75c2fa533bbe1310d2c658"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const functions = getFunctions(app);
        const provider = new GoogleAuthProvider();

        // Configurar persist√™ncia LOCAL (manter login entre sess√µes)
        setPersistence(auth, browserLocalPersistence)
            .then(() => {
                console.log('‚úÖ Persist√™ncia LOCAL configurada');
            })
            .catch((error) => {
                console.error('‚ùå Erro ao configurar persist√™ncia:', error);
            });

        // Disponibilizar globalmente
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        window.firebaseFunctions = { httpsCallable: (name) => httpsCallable(functions, name) };
        window.firebaseProvider = provider;
        window.firebaseSetPersistence = setPersistence;
        window.firebaseBrowserLocalPersistence = browserLocalPersistence;
        window.firebaseSignInWithPopup = signInWithPopup;
        window.firebaseSignInWithRedirect = signInWithRedirect;
        window.firebaseGetRedirectResult = getRedirectResult;
        window.firebaseOnAuthStateChanged = onAuthStateChanged;
        window.firebaseSignOut = signOut;
        window.firebaseDoc = doc;
        window.firebaseGetDoc = getDoc;
        window.firebaseSetDoc = setDoc;
        window.firebaseUpdateDoc = updateDoc;
        window.firebaseIncrement = increment;

        console.log('üî• Firebase initialized');
    </script>

    <!-- Help Modal Function -->
    <script>
        // Bot√£o Help - Abre modal de ajuda
        document.addEventListener('DOMContentLoaded', function() {
            const helpButton = document.getElementById('helpButton');
            const helpModal = document.getElementById('helpModal');

            if (helpButton && helpModal) {
                helpButton.addEventListener('click', function() {
                    helpModal.style.display = 'block';
                });

                // Fechar modal ao clicar fora
                helpModal.addEventListener('click', function(e) {
                    if (e.target === helpModal) {
                        helpModal.style.display = 'none';
                    }
                });
            }
        });
    </script>

    <!-- Scripts -->
    <script src="auth.js?v=4.2.0"></script>
    <script src="translator.js?v=4.2.0"></script>
    <script src="payment.js?v=1.0.0"></script>
</body>
</html>
