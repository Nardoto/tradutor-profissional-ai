<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tradutor Profissional - Powered by Google Gemini AI">
    <title>Tradutor Profissional - v3.0.0</title>
    <link rel="stylesheet" href="styles.css?v=2.8.6">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .translator-container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .translator-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .translator-header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .translator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .text-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .text-area-wrapper {
            position: relative;
            flex: 1;
        }

        .char-counter {
            position: absolute;
            bottom: 0.75rem;
            right: 0.75rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
            background: var(--bg-primary);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            pointer-events: none;
        }

        textarea {
            width: 100%;
            min-height: 600px;
            padding: 1.5rem;
            padding-bottom: 2.5rem;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            line-height: 1.7;
            resize: vertical;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        textarea[readonly] {
            background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%);
            border-color: #667eea;
        }

        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            margin-bottom: 2rem;
        }

        .stats-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .stats-box {
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            border: 2px solid var(--border-color);
        }

        .stats-box.translated {
            background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%);
            border-color: #667eea;
        }

        .stats-grid {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
        }

        .stat-item {
            flex: 1;
            text-align: center;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent-primary);
        }

        .stat-value.translated {
            color: #667eea;
        }

        .stat-diff {
            font-size: 0.85rem;
            margin-left: 0.5rem;
        }

        @media (max-width: 768px) {
            .translator-grid {
                grid-template-columns: 1fr;
            }

            .stats-panel {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Main Content -->
    <div class="translator-container">
        <div class="translator-header" style="position: relative;">
            <h1 style="margin-bottom: 0.5rem;">ğŸŒ Tradutor Profissional AI</h1>
            <p style="color: var(--text-secondary); font-size: 1rem; margin: 0.5rem 0;">TraduÃ§Ãµes precisas e profissionais com inteligÃªncia artificial</p>
            <p style="color: var(--text-secondary); font-size: 0.85rem; margin: 0.5rem 0 2rem 0;">Desenvolvido por <strong>Nardoto</strong> | Powered by Google Gemini AI</p>

            <!-- BotÃµes do Header -->
            <div style="position: absolute; top: 0; right: 0; display: flex; gap: 1rem; align-items: center;">
                <!-- Perfil do UsuÃ¡rio -->
                <div id="userProfileButton" style="display: none; cursor: pointer; background: white; border: 2px solid var(--border-color); border-radius: 50px; padding: 0.5rem 1rem; display: flex; align-items: center; gap: 0.75rem; transition: all 0.3s;">
                    <img id="userAvatar" src="" alt="Avatar" style="width: 32px; height: 32px; border-radius: 50%; object-fit: cover;">
                    <div style="text-align: left;">
                        <div id="userName" style="font-weight: 600; font-size: 0.9rem; color: var(--text-primary);"></div>
                        <div id="userPlan" style="font-size: 0.75rem; color: var(--text-secondary);"></div>
                    </div>
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 6l4 4 4-4"/>
                    </svg>
                </div>

                <!-- Configurar API Key -->
                <button id="settingsButton" class="btn-primary" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="currentColor" stroke-width="2"/>
                        <path d="M16.2 12.5L15.4 13.9C15.1 14.5 15.2 15.2 15.7 15.7L16.3 16.3C16.5 16.5 16.5 16.8 16.3 17L17 17.7C17.2 17.9 17.5 17.9 17.7 17.7L18.3 17.1C18.8 16.6 19.5 16.5 20.1 16.8L21.5 17.6C21.8 17.8 22 18.1 22 18.5V19.5C22 19.8 21.8 20 21.5 20H18.5C18.2 20 18 19.8 18 19.5V18.5C18 18.1 17.8 17.8 17.5 17.6L16.1 16.8C15.5 16.5 14.8 16.6 14.3 17.1L13.7 17.7C13.5 17.9 13.2 17.9 13 17.7L12.3 17C12.1 16.8 12.1 16.5 12.3 16.3L12.9 15.7C13.4 15.2 13.5 14.5 13.2 13.9L12.4 12.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Configurar API Key
                </button>
            </div>
        </div>

        <!-- Menu Dropdown do UsuÃ¡rio -->
        <div id="userDropdownMenu" style="display: none; position: absolute; top: 80px; right: 2rem; background: white; border: 2px solid var(--border-color); border-radius: var(--radius-sm); box-shadow: 0 8px 24px rgba(0,0,0,0.15); min-width: 280px; z-index: 1000;">
            <div style="padding: 1rem; border-bottom: 1px solid var(--border-color);">
                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 0.5rem;">Uso de Hoje</div>
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                    <div style="flex: 1; height: 8px; background: var(--bg-hover); border-radius: 10px; overflow: hidden;">
                        <div id="usageBar" style="height: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); width: 0%; transition: width 0.3s;"></div>
                    </div>
                </div>
                <div style="font-size: 0.85rem; color: var(--text-secondary);">
                    <span id="translationsUsed" style="font-weight: 600; color: var(--accent-primary);">0</span> / 10 traduÃ§Ãµes
                </div>
            </div>

            <div style="padding: 0.5rem;">
                <button id="upgradeButton" class="btn-primary" style="width: 100%; margin-bottom: 0.5rem; justify-content: center;">
                    â­ Upgrade para PRO
                </button>
                <button id="logoutButton" class="btn-secondary" style="width: 100%; justify-content: center;">
                    ğŸšª Sair
                </button>
            </div>
        </div>

        <!-- Banner Informativo -->
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: var(--radius-sm); padding: 1.5rem; margin-bottom: 2rem; color: white; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);">
            <h3 style="margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem; font-size: 1.2rem;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M12 16v-4M12 8h.01"/>
                </svg>
                Como usar o Tradutor Profissional AI
            </h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; font-size: 0.9rem;">
                <div style="background: rgba(255,255,255,0.15); padding: 1rem; border-radius: var(--radius-sm); backdrop-filter: blur(10px);">
                    <div style="font-weight: 600; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="background: white; color: #667eea; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.85rem; font-weight: bold;">1</span>
                        Escreva ou cole seu texto
                    </div>
                    <p style="margin: 0; opacity: 0.95; line-height: 1.5;">Digite ou cole o texto que deseja traduzir no campo Ã  esquerda. Pode ser um roteiro, artigo, legenda ou qualquer texto.</p>
                </div>
                <div style="background: rgba(255,255,255,0.15); padding: 1rem; border-radius: var(--radius-sm); backdrop-filter: blur(10px);">
                    <div style="font-weight: 600; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="background: white; color: #667eea; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.85rem; font-weight: bold;">2</span>
                        Selecione o idioma e traduza
                    </div>
                    <p style="margin: 0; opacity: 0.95; line-height: 1.5;">Escolha o idioma de destino e clique em "Traduzir". A IA Google Gemini farÃ¡ uma traduÃ§Ã£o profissional em segundos.</p>
                </div>
                <div style="background: rgba(255,255,255,0.15); padding: 1rem; border-radius: var(--radius-sm); backdrop-filter: blur(10px);">
                    <div style="font-weight: 600; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="background: white; color: #667eea; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.85rem; font-weight: bold;">3</span>
                        Exporte como TXT ou SRT
                    </div>
                    <p style="margin: 0; opacity: 0.95; line-height: 1.5;">ApÃ³s traduzir, exporte como arquivo TXT (texto simples) ou SRT (legenda com timestamps) para usar em vÃ­deos!</p>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <select id="sourceLangSelector" class="root-folder-dropdown" style="flex: 1; max-width: 250px;">
                <option value="auto">ğŸ”„ Detectar automaticamente</option>
                <option value="portuguese">ğŸ‡§ğŸ‡· PortuguÃªs</option>
                <option value="english">ğŸ‡ºğŸ‡¸ InglÃªs</option>
                <option value="spanish">ğŸ‡ªğŸ‡¸ Espanhol</option>
                <option value="french">ğŸ‡«ğŸ‡· FrancÃªs</option>
                <option value="italian">ğŸ‡®ğŸ‡¹ Italiano</option>
                <option value="german">ğŸ‡©ğŸ‡ª AlemÃ£o</option>
            </select>

            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>

            <select id="targetLangSelector" class="root-folder-dropdown" style="flex: 1; max-width: 250px;">
                <option value="" disabled selected>Idioma de destino...</option>
                <option value="english">ğŸ‡ºğŸ‡¸ InglÃªs</option>
                <option value="portuguese">ğŸ‡§ğŸ‡· PortuguÃªs</option>
                <option value="spanish">ğŸ‡ªğŸ‡¸ Espanhol</option>
                <option value="french">ğŸ‡«ğŸ‡· FrancÃªs</option>
                <option value="italian">ğŸ‡®ğŸ‡¹ Italiano</option>
                <option value="german">ğŸ‡©ğŸ‡ª AlemÃ£o</option>
            </select>

            <button id="translateButton" class="btn-primary" style="padding: 0 2.5rem;">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" style="margin-right: 0.5rem;">
                    <path d="M10 2C14.418 2 18 5.582 18 10C18 14.418 14.418 18 10 18C5.582 18 2 14.418 2 10C2 5.582 5.582 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M7 10L10 7L13 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M10 7V13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Traduzir
            </button>

            <button id="exportButton" class="btn-secondary" style="display: none;" title="Exportar traduÃ§Ã£o como arquivo de texto (.txt)">
                ğŸ’¾ Exportar TXT
            </button>

            <button id="exportSrtButton" class="btn-secondary" style="display: none;" title="Exportar como legenda com timestamps para vÃ­deos (.srt)">
                ğŸ¬ Exportar SRT (Legenda)
            </button>

            <button id="clearButton" class="btn-secondary">
                ğŸ—‘ï¸ Limpar
            </button>
        </div>

        <!-- SRT Settings Panel (oculto por padrÃ£o) -->
        <div id="srtSettingsPanel" style="display: none; background: var(--bg-secondary); padding: 1rem; border-radius: var(--radius-sm); margin-bottom: 2rem;">
            <h4 style="color: var(--accent-primary); margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M3 5C3 3.89543 3.89543 3 5 3H15C16.1046 3 17 3.89543 17 5V15C17 16.1046 16.1046 17 15 17H5C3.89543 17 3 16.1046 3 15V5Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M7 8H13M7 12H10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                ConfiguraÃ§Ãµes de Legendas (SRT)
            </h4>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);">
                        ğŸ“ Caracteres por legenda:
                    </label>
                    <input type="number" id="srtCharsPerBlock" value="84" min="40" max="200"
                           style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm);">
                    <small style="color: var(--text-secondary); font-size: 0.8rem;">Recomendado: 60-84 caracteres</small>
                </div>

                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);">
                        âš¡ Caracteres por segundo:
                    </label>
                    <input type="number" id="srtReadingRate" value="14" min="10" max="25" step="1"
                           style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm);">
                    <small style="color: var(--text-secondary); font-size: 0.8rem;">Recomendado: 14-17 c/s</small>
                </div>
            </div>

            <div style="margin-top: 1.5rem; display: grid; gap: 0.75rem;">
                <div style="padding: 0.75rem; background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%); border-radius: var(--radius-sm); border-left: 3px solid var(--accent-primary);">
                    <p style="margin: 0; font-size: 0.85rem; color: var(--text-secondary);">
                        <strong>ğŸ’¡ Como funciona:</strong> A traduÃ§Ã£o serÃ¡ automaticamente dividida em blocos de legenda com timestamps calculados pela velocidade de leitura. Perfeito para criar legendas em vÃ­deos do YouTube, Vimeo ou qualquer player que suporte SRT!
                    </p>
                </div>

                <div style="padding: 0.75rem; background: #d4edda; border-radius: var(--radius-sm); border-left: 3px solid #28a745;">
                    <p style="margin: 0; font-size: 0.85rem; color: #155724;">
                        <strong>ğŸ¯ Fluxo recomendado:</strong> Escreva seu roteiro em portuguÃªs â†’ Traduza para o idioma desejado â†’ Exporte em SRT â†’ Importe a legenda no seu editor de vÃ­deo ou YouTube!
                    </p>
                </div>

                <div style="padding: 0.75rem; background: #fff3cd; border-radius: var(--radius-sm); border-left: 3px solid #ffc107;">
                    <p style="margin: 0; font-size: 0.85rem; color: #856404;">
                        <strong>âš™ï¸ PersonalizaÃ§Ã£o:</strong> Ajuste os parÃ¢metros acima para controlar o tamanho das legendas e velocidade de exibiÃ§Ã£o. Valores maiores = legendas mais longas, valores menores = legendas mais curtas e rÃ¡pidas.
                    </p>
                </div>
            </div>
        </div>

        <!-- Text Areas -->
        <div class="translator-grid">
            <!-- Original Text -->
            <div class="text-panel">
                <h3 style="color: var(--accent-primary); display: flex; align-items: center; gap: 0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M4 4h12v12H4V4z" stroke="currentColor" stroke-width="2"/>
                        <path d="M7 7h6M7 10h6M7 13h4" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span id="originalLanguageLabel">Texto Original</span>
                </h3>
                <div class="text-area-wrapper">
                    <textarea id="originalText" placeholder="Cole aqui o texto que deseja traduzir..."></textarea>
                    <div class="char-counter" id="originalCounter">0 caracteres</div>
                </div>
                <button id="copyOriginalButton" class="btn-secondary" style="width: 100%;">
                    ğŸ“‹ Copiar Original
                </button>
            </div>

            <!-- Translated Text -->
            <div class="text-panel">
                <h3 style="color: #667eea; display: flex; align-items: center; gap: 0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 2C14.418 2 18 5.582 18 10C18 14.418 14.418 18 10 18C5.582 18 2 14.418 2 10C2 5.582 5.582 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span id="translatedLanguageLabel">TraduÃ§Ã£o</span>
                </h3>
                <div class="text-area-wrapper">
                    <textarea id="translatedText" readonly placeholder="A traduÃ§Ã£o aparecerÃ¡ aqui..."></textarea>
                    <div class="char-counter" id="translatedCounter">0 caracteres</div>
                </div>
                <button id="copyTranslatedButton" class="btn-primary" style="width: 100%;">
                    ğŸ“‹ Copiar TraduÃ§Ã£o
                </button>
            </div>
        </div>

        <!-- Statistics -->
        <div class="stats-panel" id="statsPanel" style="display: none;">
            <div class="stats-box">
                <h4 style="color: var(--accent-primary); margin: 0 0 1rem 0;">ğŸ“ Texto Original</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Palavras</div>
                        <div class="stat-value" id="originalWords">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Caracteres</div>
                        <div class="stat-value" id="originalChars">0</div>
                    </div>
                </div>
            </div>

            <div class="stats-box translated">
                <h4 style="color: #667eea; margin: 0 0 1rem 0;">ğŸŒ TraduÃ§Ã£o</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Palavras</div>
                        <div class="stat-value translated" id="translatedWords">
                            0
                            <span class="stat-diff" id="wordsDiff"></span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Caracteres</div>
                        <div class="stat-value translated" id="translatedChars">
                            0
                            <span class="stat-diff" id="charsDiff"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2>âš™ï¸ ConfiguraÃ§Ãµes</h2>
                <button class="modal-close" onclick="document.getElementById('settingsModal').style.display='none'">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Lista de API Keys Cadastradas -->
                <div style="margin-bottom: 2rem;">
                    <h3 style="color: var(--accent-primary); margin: 0 0 1rem 0; font-size: 1.1rem;">
                        ğŸ”‘ API Keys Cadastradas
                    </h3>
                    <div id="apiKeysList" style="max-height: 300px; overflow-y: auto;">
                        <!-- Lista serÃ¡ renderizada aqui pelo JavaScript -->
                    </div>
                </div>

                <!-- Adicionar Nova API Key -->
                <div style="margin-bottom: 1.5rem; padding: 1.5rem; background: var(--bg-hover); border-radius: var(--radius-sm); border: 2px solid var(--border-color);">
                    <h3 style="color: var(--accent-primary); margin: 0 0 1rem 0; font-size: 1rem;">
                        â• Adicionar Nova API Key
                    </h3>

                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; font-size: 0.9rem;">
                            Nome (IdentificaÃ§Ã£o)
                        </label>
                        <input
                            type="text"
                            id="newApiKeyName"
                            placeholder="Ex: Minha Key Principal, Key Backup..."
                            style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm);"
                        >
                    </div>

                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; font-size: 0.9rem;">
                            API Key do Google Gemini
                        </label>
                        <input
                            type="password"
                            id="newApiKeyInput"
                            placeholder="Cole sua API Key aqui..."
                            style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm); font-family: 'Courier New', monospace;"
                        >
                    </div>
                    <div style="margin-top: 1rem; padding: 1rem; background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%); border-left: 3px solid var(--accent-primary); border-radius: var(--radius-sm);">
                        <h4 style="margin: 0 0 0.75rem 0; color: var(--accent-primary); font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem;">
                            ğŸ“š Como obter sua API Key GRATUITA:
                        </h4>

                        <div style="background: #fff; padding: 1rem; border-radius: var(--radius-sm); margin-bottom: 1rem; border: 1px solid var(--border-color);">
                            <ol style="margin: 0; padding-left: 1.5rem; font-size: 0.85rem; color: var(--text-primary); line-height: 2;">
                                <li style="margin-bottom: 0.5rem;">
                                    <strong>Acesse o <a href="https://makersuite.google.com/app/apikey" target="_blank" style="color: var(--accent-primary); text-decoration: underline;">Google AI Studio</a></strong>
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    FaÃ§a login com sua <strong>conta Google</strong>
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    Aceite os termos <strong>"Como um desenvolvedor"</strong> e clique em <strong>"Continuar"</strong>
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    No canto superior direito, clique em <strong>"Criar chave de API"</strong> (botÃ£o verde)
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    DÃª um nome para sua chave (ex: <code style="background: var(--bg-hover); padding: 0.2rem 0.4rem; border-radius: 3px; font-family: 'Courier New', monospace;">"tradutor"</code>)
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    Escolha <strong>"Default Gemini Project"</strong>
                                </li>
                                <li style="margin-bottom: 0.5rem;">
                                    Clique no <strong>Ã­cone de copiar</strong> ao lado da chave gerada
                                </li>
                                <li>
                                    <strong>Cole a chave</strong> no campo acima e clique em "Salvar"
                                </li>
                            </ol>
                        </div>

                        <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 0.75rem 1rem; border-radius: var(--radius-sm); margin-bottom: 0.75rem;">
                            <p style="margin: 0; color: #155724; font-size: 0.85rem; font-weight: 500;">
                                âœ… <strong>100% GRATUITO!</strong> Sem necessidade de cartÃ£o de crÃ©dito.
                            </p>
                        </div>

                        <div style="background: #fff3cd; border: 1px solid #ffeeba; padding: 0.75rem 1rem; border-radius: var(--radius-sm);">
                            <p style="margin: 0; color: #856404; font-size: 0.8rem;">
                                <strong>ğŸ’¡ Dica:</strong> Essa chave permite traduzir arquivos inteiros de uma sÃ³ vez usando o poder da IA Google Gemini!
                            </p>
                        </div>
                    </div>

                    <div style="display: flex; gap: 0.75rem; margin-top: 1rem;">
                        <button id="saveApiKeyButton" class="btn-primary" style="flex: 1;">
                            â• Adicionar Key
                        </button>
                        <button id="testApiKeyButton" class="btn-secondary" style="flex: 1;">
                            ğŸ§ª Testar Key em Uso
                        </button>
                    </div>
                </div>

                <!-- InformaÃ§Ãµes sobre MÃºltiplas Keys -->
                <div style="margin-top: 1.5rem; padding: 1rem; background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%); border-radius: var(--radius-sm); border-left: 3px solid #667eea;">
                    <h4 style="margin: 0 0 0.75rem 0; color: #667eea; font-size: 0.95rem;">
                        ğŸ”„ Sistema de MÃºltiplas API Keys
                    </h4>
                    <ul style="margin: 0; padding-left: 1.5rem; font-size: 0.85rem; color: var(--text-secondary); line-height: 1.8;">
                        <li>Adicione <strong>vÃ¡rias API Keys</strong> para evitar limites de uso</li>
                        <li>O sistema <strong>roda automaticamente</strong> para prÃ³xima key se uma atingir o limite</li>
                        <li>Todas as keys sÃ£o <strong>salvas localmente</strong> no seu navegador</li>
                        <li>A key <strong>"EM USO"</strong> indica qual estÃ¡ sendo utilizada no momento</li>
                        <li>Cada API gratuita permite <strong>~60 requisiÃ§Ãµes por minuto</strong></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Login Screen -->
    <div id="loginScreen" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); z-index: 9999; display: flex; align-items: center; justify-content: center;">
        <div style="background: white; border-radius: var(--radius-md); padding: 3rem; max-width: 480px; width: 90%; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
            <div style="text-align: center; margin-bottom: 2rem;">
                <h1 style="font-size: 2rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 0.5rem;">
                    ğŸŒ Tradutor Profissional AI
                </h1>
                <p style="color: var(--text-secondary); font-size: 0.95rem;">
                    FaÃ§a login para comeÃ§ar a traduzir
                </p>
            </div>

            <div style="background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%); padding: 1.5rem; border-radius: var(--radius-sm); margin-bottom: 2rem;">
                <h3 style="color: var(--accent-primary); margin: 0 0 1rem 0; font-size: 1rem; text-align: center;">
                    âœ¨ Plano GRATUITO Inclui:
                </h3>
                <ul style="margin: 0; padding-left: 1.5rem; color: var(--text-secondary); font-size: 0.9rem; line-height: 1.8;">
                    <li><strong>10 traduÃ§Ãµes por dia</strong> com IA Google Gemini</li>
                    <li><strong>Exportar TXT e SRT</strong> (legendas para vÃ­deos)</li>
                    <li><strong>Auto-detectar idiomas</strong> automaticamente</li>
                    <li><strong>TraduÃ§Ãµes profissionais</strong> ilimitadas em caracteres</li>
                </ul>
            </div>

            <button id="googleLoginButton" class="btn-primary" style="width: 100%; padding: 1rem; font-size: 1rem; display: flex; align-items: center; justify-content: center; gap: 0.75rem; margin-bottom: 1rem;">
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Entrar com Google
            </button>

            <p style="text-align: center; color: var(--text-secondary); font-size: 0.85rem; margin: 1.5rem 0 0 0;">
                Ao fazer login, vocÃª concorda com nossos termos de uso
            </p>
        </div>
    </div>

    <!-- Scripts Firebase -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, doc, getDoc, setDoc, updateDoc, increment } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // IMPORTANTE: VocÃª precisa criar um projeto Firebase e substituir essa configuraÃ§Ã£o
        // Acesse: https://console.firebase.google.com
        const firebaseConfig = {
            apiKey: "SUA_API_KEY_AQUI",
            authDomain: "seu-projeto.firebaseapp.com",
            projectId: "seu-projeto-id",
            storageBucket: "seu-projeto.appspot.com",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:abcdef123456"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();

        // Disponibilizar globalmente
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        window.firebaseProvider = provider;
        window.firebaseSignInWithPopup = signInWithPopup;
        window.firebaseOnAuthStateChanged = onAuthStateChanged;
        window.firebaseSignOut = signOut;
        window.firebaseDoc = doc;
        window.firebaseGetDoc = getDoc;
        window.firebaseSetDoc = setDoc;
        window.firebaseUpdateDoc = updateDoc;
        window.firebaseIncrement = increment;

        console.log('ğŸ”¥ Firebase initialized');
    </script>

    <!-- Scripts -->
    <script src="auth.js?v=3.0.0"></script>
    <script src="translator.js?v=3.0.0"></script>
</body>
</html>
