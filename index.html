<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tradutor Profissional - Powered by Google Gemini AI">
    <title>Tradutor Profissional - v3.0.0</title>
    <link rel="stylesheet" href="styles.css?v=2.8.6">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .translator-container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .translator-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .translator-header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .translator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .text-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .text-area-wrapper {
            position: relative;
            flex: 1;
        }

        .char-counter {
            position: absolute;
            bottom: 0.75rem;
            right: 0.75rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
            background: var(--bg-primary);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            pointer-events: none;
        }

        textarea {
            width: 100%;
            min-height: 600px;
            padding: 1.5rem;
            padding-bottom: 2.5rem;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            line-height: 1.7;
            resize: vertical;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        textarea[readonly] {
            background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%);
            border-color: #667eea;
        }

        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            margin-bottom: 2rem;
        }

        .stats-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .stats-box {
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            border: 2px solid var(--border-color);
        }

        .stats-box.translated {
            background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%);
            border-color: #667eea;
        }

        .stats-grid {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
        }

        .stat-item {
            flex: 1;
            text-align: center;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent-primary);
        }

        .stat-value.translated {
            color: #667eea;
        }

        .stat-diff {
            font-size: 0.85rem;
            margin-left: 0.5rem;
        }

        @media (max-width: 768px) {
            .translator-grid {
                grid-template-columns: 1fr;
            }

            .stats-panel {
                grid-template-columns: 1fr;
            }
        }

        /* Dropdown arrow animation */
        details summary span:first-child {
            transition: transform 0.2s;
        }

        details[open] summary span:first-child {
            transform: rotate(90deg);
        }

        details summary::-webkit-details-marker {
            display: none;
        }

        /* Google Login Button */
        .google-login-btn {
            border: none;
            outline: none;
        }

        .google-login-btn:hover {
            background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%) !important;
            border-color: var(--accent-primary) !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .google-login-btn:active {
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- Main Content -->
    <div class="translator-container">
        <div class="translator-header" style="position: relative; max-height: 100px; padding: 1rem 0;">
            <h1 style="margin-bottom: 0.25rem; font-size: 2rem;">ğŸŒ Tradutor Profissional AI</h1>
            <p style="color: var(--text-secondary); font-size: 0.9rem; margin: 0.25rem 0;">TraduÃ§Ãµes precisas e profissionais com inteligÃªncia artificial</p>
            <p style="color: var(--text-secondary); font-size: 0.75rem; margin: 0.25rem 0 0 0;">Desenvolvido por <strong>Nardoto</strong> | Powered by Google Gemini AI</p>

            <!-- Perfil do UsuÃ¡rio -->
            <div style="position: absolute; top: 1rem; right: 0;">
                <!-- BotÃ£o de Login (visÃ­vel quando NÃƒO estÃ¡ logado) -->
                <button id="googleLoginButton" class="google-login-btn" style="display: none; cursor: pointer; background: white; border: 2px solid var(--border-color); border-radius: 50px; padding: 0.5rem 1rem; align-items: center; gap: 0.75rem; transition: all 0.3s; font-size: 0.9rem; font-weight: 600;">
                    <svg width="18" height="18" viewBox="0 0 18 18" style="vertical-align: middle;">
                        <path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"/>
                        <path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z"/>
                        <path fill="#FBBC05" d="M3.964 10.71c-.18-.54-.282-1.117-.282-1.71s.102-1.17.282-1.71V4.958H.957C.347 6.173 0 7.548 0 9s.348 2.827.957 4.042l3.007-2.332z"/>
                        <path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z"/>
                    </svg>
                    <span>Entrar com Google</span>
                </button>

                <!-- Perfil (visÃ­vel quando estÃ¡ logado) -->
                <div id="userProfileButton" style="display: none; cursor: pointer; background: white; border: 2px solid var(--border-color); border-radius: 50px; padding: 0.5rem 1rem; align-items: center; gap: 0.75rem; transition: all 0.3s;">
                    <img id="userAvatar" src="" alt="Avatar" style="width: 32px; height: 32px; border-radius: 50%; object-fit: cover;">
                    <div style="text-align: left;">
                        <div id="userName" style="font-weight: 600; font-size: 0.9rem; color: var(--text-primary);"></div>
                        <div id="userPlan" style="font-size: 0.75rem; color: var(--text-secondary);"></div>
                    </div>
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 6l4 4 4-4"/>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Menu Dropdown do UsuÃ¡rio -->
        <div id="userDropdownMenu" style="display: none; position: absolute; top: 80px; right: 2rem; background: white; border: 2px solid var(--border-color); border-radius: var(--radius-sm); box-shadow: 0 8px 24px rgba(0,0,0,0.15); min-width: 280px; z-index: 1000;">
            <div style="padding: 1rem; border-bottom: 1px solid var(--border-color);">
                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 0.5rem;">Uso de Hoje</div>
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                    <div style="flex: 1; height: 8px; background: var(--bg-hover); border-radius: 10px; overflow: hidden;">
                        <div id="usageBar" style="height: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); width: 0%; transition: width 0.3s;"></div>
                    </div>
                </div>
                <div style="font-size: 0.85rem; color: var(--text-secondary);">
                    <span id="translationsUsed" style="font-weight: 600; color: var(--accent-primary);">0</span> / 50 traduÃ§Ãµes
                </div>
            </div>

            <div style="padding: 0.5rem;">
                <button id="upgradeButton" class="btn-primary" style="width: 100%; margin-bottom: 0.5rem; justify-content: center;">
                    â­ Upgrade para PRO
                </button>
                <button id="logoutButton" class="btn-secondary" style="width: 100%; justify-content: center;">
                    ğŸšª Sair
                </button>
            </div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <select id="sourceLangSelector" class="root-folder-dropdown" style="flex: 1; max-width: 250px;">
                <option value="auto">ğŸ”„ Detectar automaticamente</option>
                <option value="portuguese">ğŸ‡§ğŸ‡· PortuguÃªs</option>
                <option value="english">ğŸ‡ºğŸ‡¸ InglÃªs</option>
                <option value="spanish">ğŸ‡ªğŸ‡¸ Espanhol</option>
                <option value="french">ğŸ‡«ğŸ‡· FrancÃªs</option>
                <option value="italian">ğŸ‡®ğŸ‡¹ Italiano</option>
                <option value="german">ğŸ‡©ğŸ‡ª AlemÃ£o</option>
            </select>

            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>

            <select id="targetLangSelector" class="root-folder-dropdown" style="flex: 1; max-width: 250px;">
                <option value="" disabled selected>Idioma de destino...</option>
                <option value="english">ğŸ‡ºğŸ‡¸ InglÃªs</option>
                <option value="portuguese">ğŸ‡§ğŸ‡· PortuguÃªs</option>
                <option value="spanish">ğŸ‡ªğŸ‡¸ Espanhol</option>
                <option value="french">ğŸ‡«ğŸ‡· FrancÃªs</option>
                <option value="italian">ğŸ‡®ğŸ‡¹ Italiano</option>
                <option value="german">ğŸ‡©ğŸ‡ª AlemÃ£o</option>
            </select>

            <button id="translateButton" class="btn-primary" style="padding: 0 2.5rem;">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" style="margin-right: 0.5rem;">
                    <path d="M10 2C14.418 2 18 5.582 18 10C18 14.418 14.418 18 10 18C5.582 18 2 14.418 2 10C2 5.582 5.582 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M7 10L10 7L13 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M10 7V13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Traduzir
            </button>

            <button id="exportButton" class="btn-secondary" style="display: none;" title="Exportar traduÃ§Ã£o como arquivo de texto (.txt)">
                ğŸ’¾ Exportar TXT
            </button>

            <button id="exportSrtButton" class="btn-secondary" style="display: none;" title="Exportar como legenda com timestamps para vÃ­deos (.srt)">
                ğŸ¬ Exportar SRT (Legenda)
            </button>

            <button id="clearButton" class="btn-secondary">
                ğŸ—‘ï¸ Limpar
            </button>

            <button id="settingsButton" class="btn-primary" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem;">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M16.2 12.5L15.4 13.9C15.1 14.5 15.2 15.2 15.7 15.7L16.3 16.3C16.5 16.5 16.5 16.8 16.3 17L17 17.7C17.2 17.9 17.5 17.9 17.7 17.7L18.3 17.1C18.8 16.6 19.5 16.5 20.1 16.8L21.5 17.6C21.8 17.8 22 18.1 22 18.5V19.5C22 19.8 21.8 20 21.5 20H18.5C18.2 20 18 19.8 18 19.5V18.5C18 18.1 17.8 17.8 17.5 17.6L16.1 16.8C15.5 16.5 14.8 16.6 14.3 17.1L13.7 17.7C13.5 17.9 13.2 17.9 13 17.7L12.3 17C12.1 16.8 12.1 16.5 12.3 16.3L12.9 15.7C13.4 15.2 13.5 14.5 13.2 13.9L12.4 12.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Configurar API Key
            </button>

            <button id="helpButton" class="btn-secondary" style="padding: 0.5rem 0.75rem; min-width: auto;" title="Como usar">
                â“
            </button>
        </div>

        <!-- SRT Settings Panel (oculto por padrÃ£o) -->
        <div id="srtSettingsPanel" style="display: none; background: var(--bg-secondary); padding: 1rem; border-radius: var(--radius-sm); margin-bottom: 2rem;">
            <h4 style="color: var(--accent-primary); margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M3 5C3 3.89543 3.89543 3 5 3H15C16.1046 3 17 3.89543 17 5V15C17 16.1046 16.1046 17 15 17H5C3.89543 17 3 16.1046 3 15V5Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M7 8H13M7 12H10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                ConfiguraÃ§Ãµes de Legendas (SRT)
            </h4>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);">
                        ğŸ“ Caracteres por legenda:
                    </label>
                    <input type="number" id="srtCharsPerBlock" value="84" min="40" max="200"
                           style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm);">
                    <small style="color: var(--text-secondary); font-size: 0.8rem;">Recomendado: 60-84 caracteres</small>
                </div>

                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);">
                        âš¡ Caracteres por segundo:
                    </label>
                    <input type="number" id="srtReadingRate" value="14" min="10" max="25" step="1"
                           style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm);">
                    <small style="color: var(--text-secondary); font-size: 0.8rem;">Recomendado: 14-17 c/s</small>
                </div>
            </div>

            <div style="margin-top: 1.5rem; display: grid; gap: 0.75rem;">
                <div style="padding: 0.75rem; background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%); border-radius: var(--radius-sm); border-left: 3px solid var(--accent-primary);">
                    <p style="margin: 0; font-size: 0.85rem; color: var(--text-secondary);">
                        <strong>ğŸ’¡ Como funciona:</strong> A traduÃ§Ã£o serÃ¡ automaticamente dividida em blocos de legenda com timestamps calculados pela velocidade de leitura. Perfeito para criar legendas em vÃ­deos do YouTube, Vimeo ou qualquer player que suporte SRT!
                    </p>
                </div>

                <div style="padding: 0.75rem; background: #d4edda; border-radius: var(--radius-sm); border-left: 3px solid #28a745;">
                    <p style="margin: 0; font-size: 0.85rem; color: #155724;">
                        <strong>ğŸ¯ Fluxo recomendado:</strong> Escreva seu roteiro em portuguÃªs â†’ Traduza para o idioma desejado â†’ Exporte em SRT â†’ Importe a legenda no seu editor de vÃ­deo ou YouTube!
                    </p>
                </div>

                <div style="padding: 0.75rem; background: #fff3cd; border-radius: var(--radius-sm); border-left: 3px solid #ffc107;">
                    <p style="margin: 0; font-size: 0.85rem; color: #856404;">
                        <strong>âš™ï¸ PersonalizaÃ§Ã£o:</strong> Ajuste os parÃ¢metros acima para controlar o tamanho das legendas e velocidade de exibiÃ§Ã£o. Valores maiores = legendas mais longas, valores menores = legendas mais curtas e rÃ¡pidas.
                    </p>
                </div>
            </div>
        </div>

        <!-- Text Areas -->
        <div class="translator-grid">
            <!-- Original Text -->
            <div class="text-panel">
                <h3 style="color: var(--accent-primary); display: flex; align-items: center; gap: 0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M4 4h12v12H4V4z" stroke="currentColor" stroke-width="2"/>
                        <path d="M7 7h6M7 10h6M7 13h4" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span id="originalLanguageLabel">Texto Original</span>
                </h3>
                <div class="text-area-wrapper">
                    <textarea id="originalText" placeholder="Cole aqui o texto que deseja traduzir..."></textarea>
                    <div class="char-counter" id="originalCounter">0 caracteres</div>
                </div>
                <button id="copyOriginalButton" class="btn-secondary" style="width: 100%;">
                    ğŸ“‹ Copiar Original
                </button>
            </div>

            <!-- Translated Text -->
            <div class="text-panel">
                <h3 style="color: #667eea; display: flex; align-items: center; gap: 0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 2C14.418 2 18 5.582 18 10C18 14.418 14.418 18 10 18C5.582 18 2 14.418 2 10C2 5.582 5.582 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span id="translatedLanguageLabel">TraduÃ§Ã£o</span>
                </h3>
                <div class="text-area-wrapper">
                    <textarea id="translatedText" readonly placeholder="A traduÃ§Ã£o aparecerÃ¡ aqui..."></textarea>
                    <div class="char-counter" id="translatedCounter">0 caracteres</div>
                </div>
                <button id="copyTranslatedButton" class="btn-primary" style="width: 100%;">
                    ğŸ“‹ Copiar TraduÃ§Ã£o
                </button>
            </div>
        </div>

        <!-- Statistics -->
        <div class="stats-panel" id="statsPanel" style="display: none;">
            <div class="stats-box">
                <h4 style="color: var(--accent-primary); margin: 0 0 1rem 0;">ğŸ“ Texto Original</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Palavras</div>
                        <div class="stat-value" id="originalWords">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Caracteres</div>
                        <div class="stat-value" id="originalChars">0</div>
                    </div>
                </div>
            </div>

            <div class="stats-box translated">
                <h4 style="color: #667eea; margin: 0 0 1rem 0;">ğŸŒ TraduÃ§Ã£o</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Palavras</div>
                        <div class="stat-value translated" id="translatedWords">
                            0
                            <span class="stat-diff" id="wordsDiff"></span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Caracteres</div>
                        <div class="stat-value translated" id="translatedChars">
                            0
                            <span class="stat-diff" id="charsDiff"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2>ğŸ“– Como Usar o Tradutor</h2>
                <button class="modal-close" onclick="document.getElementById('helpModal').style.display='none'">&times;</button>
            </div>
            <div class="modal-body" style="max-height: 80vh; overflow-y: auto;">

                <!-- SeÃ§Ã£o 1: TraduÃ§Ã£o BÃ¡sica -->
                <div style="margin-bottom: 2rem;">
                    <h3 style="color: var(--accent-primary); margin: 0 0 1rem 0; font-size: 1.1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 1.5rem;">ğŸŒ</span>
                        TraduÃ§Ã£o BÃ¡sica
                    </h3>
                    <ol style="margin: 0; padding-left: 1.5rem; font-size: 0.9rem; line-height: 1.8;">
                        <li>Cole o texto que deseja traduzir no campo <strong>"Texto Original"</strong></li>
                        <li>Selecione o <strong>idioma de destino</strong></li>
                        <li>Clique em <strong>"Traduzir"</strong></li>
                        <li>A traduÃ§Ã£o aparecerÃ¡ automaticamente no campo ao lado</li>
                    </ol>
                </div>

                <!-- SeÃ§Ã£o 2: Exportar TXT -->
                <div style="margin-bottom: 2rem;">
                    <h3 style="color: var(--accent-primary); margin: 0 0 1rem 0; font-size: 1.1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 1.5rem;">ğŸ“„</span>
                        Exportar para TXT
                    </h3>
                    <p style="margin: 0 0 0.5rem 0; font-size: 0.9rem;">
                        ApÃ³s traduzir, clique no botÃ£o <strong>"Exportar TXT"</strong> para baixar a traduÃ§Ã£o em formato de texto simples.
                    </p>
                </div>

                <!-- SeÃ§Ã£o 3: Exportar SRT (Legendas) -->
                <div style="margin-bottom: 2rem; background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%); padding: 1.5rem; border-radius: var(--radius-sm); border-left: 3px solid var(--accent-primary);">
                    <h3 style="color: var(--accent-primary); margin: 0 0 1rem 0; font-size: 1.1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 1.5rem;">ğŸ¬</span>
                        Traduzir Legendas (SRT)
                    </h3>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                        <p style="margin: 0 0 1rem 0;"><strong>O que Ã© SRT?</strong></p>
                        <p style="margin: 0 0 1rem 0;">
                            SRT Ã© o formato de legenda mais usado em vÃ­deos. Ele contÃ©m:
                        </p>
                        <ul style="margin: 0 0 1rem 0; padding-left: 1.5rem;">
                            <li>NÃºmero da legenda</li>
                            <li>Tempo de inÃ­cio e fim</li>
                            <li>Texto da legenda</li>
                        </ul>
                        <p style="margin: 0 0 1rem 0;"><strong>Como usar:</strong></p>
                        <ol style="margin: 0 0 1rem 0; padding-left: 1.5rem;">
                            <li>Cole TODO o conteÃºdo do arquivo .srt no campo "Texto Original"</li>
                            <li>Selecione o idioma de destino</li>
                            <li>Clique em "Traduzir"</li>
                            <li>Clique em <strong>"Exportar SRT"</strong> para baixar o arquivo traduzido</li>
                        </ol>
                        <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 0.75rem 1rem; border-radius: var(--radius-sm);">
                            <p style="margin: 0; color: #155724; font-size: 0.85rem;">
                                âœ… O tradutor mantÃ©m automaticamente os timestamps e formataÃ§Ã£o do SRT!
                            </p>
                        </div>
                    </div>
                </div>

                <!-- SeÃ§Ã£o 4: API Key -->
                <div style="margin-bottom: 1rem;">
                    <h3 style="color: var(--accent-primary); margin: 0 0 1rem 0; font-size: 1.1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 1.5rem;">ğŸ”‘</span>
                        Precisa de API Key?
                    </h3>
                    <p style="margin: 0 0 0.5rem 0; font-size: 0.9rem;">
                        Para traduÃ§Ãµes ilimitadas, vocÃª precisa de uma <strong>API Key do Google Gemini</strong>.
                    </p>
                    <div style="background: #fff; padding: 1rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); margin-top: 1rem;">
                        <p style="margin: 0 0 0.75rem 0; font-weight: 600; font-size: 0.9rem;">Como obter (GRÃTIS):</p>
                        <ol style="margin: 0; padding-left: 1.5rem; font-size: 0.85rem; line-height: 1.7;">
                            <li>Acesse: <a href="https://makersuite.google.com/app/apikey" target="_blank" style="color: var(--accent-primary);">Google AI Studio</a></li>
                            <li>FaÃ§a login com sua conta Google</li>
                            <li>Clique em "Criar chave de API"</li>
                            <li>Copie a chave gerada</li>
                            <li>Cole no campo e salve</li>
                        </ol>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h2>âš™ï¸ Configurar API Key</h2>
                <button class="modal-close" onclick="document.getElementById('settingsModal').style.display='none'">&times;</button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 1rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">
                        ğŸ”‘ Google Gemini API Key
                    </label>
                    <input
                        type="password"
                        id="newApiKeyInput"
                        placeholder="Cole sua API Key aqui..."
                        style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius-sm); font-family: 'Courier New', monospace; font-size: 0.95rem;"
                    >
                </div>

                <div style="display: flex; gap: 0.75rem; margin-bottom: 1rem;">
                    <button id="saveApiKeyButton" class="btn-primary" style="flex: 1;">
                        ğŸ’¾ Salvar
                    </button>
                    <button id="testApiKeyButton" class="btn-secondary" style="flex: 1;">
                        ğŸ§ª Testar
                    </button>
                </div>

                <!-- Ãrea de mensagens do teste/salvamento -->
                <div id="apiKeyTestResult" class="api-key-message" style="display: none; padding: 1rem; border-radius: var(--radius-sm); margin-bottom: 1.5rem; font-size: 0.9rem; font-weight: 500; border-left: 3px solid;"></div>

                <div style="background: linear-gradient(135deg, #667eea11 0%, #764ba211 100%); padding: 1rem; border-radius: var(--radius-sm); border-left: 3px solid var(--accent-primary);">
                    <p style="margin: 0 0 0.5rem 0; font-weight: 600; color: var(--accent-primary); font-size: 0.9rem;">
                        ğŸ“š Como obter (GRÃTIS):
                    </p>
                    <ol style="margin: 0; padding-left: 1.5rem; font-size: 0.85rem; line-height: 1.7; color: var(--text-primary);">
                        <li>Acesse: <a href="https://makersuite.google.com/app/apikey" target="_blank" style="color: var(--accent-primary);">Google AI Studio</a></li>
                        <li>FaÃ§a login com sua conta Google</li>
                        <li>Clique em "Criar chave de API"</li>
                        <li>Copie a chave e cole acima</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Scripts Firebase -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, doc, getDoc, setDoc, updateDoc, increment } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        import { getFunctions, httpsCallable } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-functions.js';

        // ConfiguraÃ§Ã£o do Firebase - tradutor-profissional-ai
        const firebaseConfig = {
            apiKey: "AIzaSyBQPGu8l-JQqjHRubcAcYeUK7aIgH7vPIE",
            authDomain: "tradutor-profissional-ai.firebaseapp.com",
            projectId: "tradutor-profissional-ai",
            storageBucket: "tradutor-profissional-ai.firebasestorage.app",
            messagingSenderId: "943297790089",
            appId: "1:943297790089:web:75c2fa533bbe1310d2c658"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const functions = getFunctions(app);
        const provider = new GoogleAuthProvider();

        // Disponibilizar globalmente
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        window.firebaseFunctions = { httpsCallable: (name) => httpsCallable(functions, name) };
        window.firebaseProvider = provider;
        window.firebaseSignInWithPopup = signInWithPopup;
        window.firebaseOnAuthStateChanged = onAuthStateChanged;
        window.firebaseSignOut = signOut;
        window.firebaseDoc = doc;
        window.firebaseGetDoc = getDoc;
        window.firebaseSetDoc = setDoc;
        window.firebaseUpdateDoc = updateDoc;
        window.firebaseIncrement = increment;

        console.log('ğŸ”¥ Firebase initialized');
    </script>

    <!-- Scripts -->
    <script src="auth.js?v=3.1.0"></script>
    <script src="translator.js?v=3.0.0"></script>
    <script src="payment.js?v=1.0.0"></script>
</body>
</html>
